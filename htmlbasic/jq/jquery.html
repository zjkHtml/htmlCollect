<html>
<head>
	<meta charset="utf-8">
	<title>jquery</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
	<meta name="format-detection" content="telephone=no">
	<!-- UC强制全屏 -->
	<meta name="full-screen" content="no">
	<!-- QQ应用模式 -->
	<meta name="x5-page-mode" content="app">
	<script type="text/javascript" src="jquery-1.10.1.min.js"></script>
	<style type="text/css">
		*{font-size: 14px;line-height: 1.5}
		li{margin: 5px 0;}
		pre{background-color: #fafafa;padding: 5px;border:1px solid #ddd;margin: 0;display: none;}
		.btn{margin-left: 10px;}
		.demo{padding: 10px;border:1px solid #ddd;margin: 10px;}
	</style>
</head>

<body>
	<ul>
		<li>查看jquery版本：<a class="btn" href="###">显示</a>
		<pre>$.fn.jquery</pre>
		</li>
		<li>选择器：<a class="btn" href="###">显示</a>
<pre>
id选择器：$("#test")  
tag选择器：$("li")  
class选择器：$(".test")  
属性选择器：$("[attr=value]") //属性值为value的元素
	$("[attr^=value]") //属性值以value开头
	$('[attr$=value]') //属性值以value结尾
组合查找：$('li.test')
多项选择器：$('div,li')
层级查找：$('ul pre')
子选择器：$('ul > li > pre')
过滤器：$('ul li:first-child') // :nth-child(n) 第n个; even偶数; odd奇数  

</pre>
</li>
<li>
	查找和过滤<a class="btn" href="###">显示</a>
<pre>
查找：find(selector)
上级：parent([selector])//上层节点或是符合selector的上级节点
同级：next([selector]) 后续节点  pre([selector])向前推节点
过滤：$nodes.filter(selector或fn)//从nodes中过滤条件条件的节点 fn:返回为true的节点
	$nodes.first() $nodes.last() $nodes.slice(startIndex,endIndex);//不包含start 但包含end
</pre>
</li>
<li>
	dom操作<a class="btn" href="###">显示</a>
	<pre>
$el.text():获取或设置节点的文本,隐藏内容忽略
$el.html():获取或设置节点html文本
$el.css(attr,value):设置样式 或{attr1:value1,attr2:value2}
$el.addClass(className)
$el.show()  $el.hide()
$el.attr(attr,value) $el.removeAttr(attr)  $el.prop()
$el.is(':checked')   $el.is(':selected') // 是否选中
	</pre>
</li>
<li>修改dom<a class="btn" href="###">显示</a>
<pre>
html()
子级：$parent.append($child) // 把dom添加到最后 prepend()把dom添加到最前
同组：$el.after($el2) // el添加到el2后 before() 添加到之前
删除： $el.remove() // 删除el
</pre>
</li>
<li>事件<a class="btn" href="###">显示</a>
<pre>
事件绑定：$el.on('click',fn) 简化写法 $el.click(fn)
解绑定：$el.off('click',fn) 需要注意fn 引用问题
</pre>
</li>
<li>
	AJAX:jQuery 已做了浏览器的兼容：XMLHttpRequest(w3c)  ActiveXObject(IE)<a class="btn" href="###">显示</a>
	<pre>
ajax(url, settings) //js发送异步请求可以产生跨域问题
$.ajax('/api/categories', {
    dataType: 'json'
});
async：是否异步执行AJAX请求，默认为true，千万不要指定为false；
method：发送的Method，缺省为'GET'，可指定为'POST'、'PUT'等；
contentType：发送POST请求的格式，默认值为'application/x-www-form-urlencoded; charset=UTF-8'，
	也可以指定为text/plain、application/json；
data：发送的数据，可以是字符串、数组或object。
	如果是GET请求，data将被转换成query附加到URL上，
	如果是POST请求，根据contentType把data序列化成合适的格式；
headers：发送的额外的HTTP头，必须是一个object；
dataType：接收的数据格式，可以指定为'html'、'xml'、'json'、'text'等，缺省情况下根据响应的Content-Type猜测。
	</pre>
</li>
	</ul>
<div class="demo">
	<div id='test'>我的id为 "test"</div>
	<div class="test icon">我的class为 "test icon"</div>
	<!-- HTML结构 -->
<ul id="test-ul">
    <li class="js">JavaScript</li>
    <li name="book">Java &amp; JavaScript</li>
</ul>
<button id='btnOn'>事件绑定</button> <button id='btnOff'>取消绑定</button> <button id='btnTest'>测试</button>
</div>
<script type="text/javascript">
	// $(document).ready(function(){

	// });
	// 在dom加载完成之后，执行  防止了dom没加载完引起的事件绑定不上
	$(function(){
		$('.btn').click(function(){
			var $sender = $(this),
				$pre = $sender.next('pre');
			if($pre.is(':visible')){
				$pre.hide();
				$sender.text('显示');
			} else {
				$pre.show();
				$sender.text('隐藏');
			}
		});

		// $('#btnOn').click(function(){
		// 	$('#btnTest').click(hello);
		// 	$('#btnTest').text('测试 on')
		// });
		// $('#btnOff').click(function(){
		// 	$('#btnTest').off('click',hello);
		// 	$('#btnTest').text('测试 off')
		// })
		// function hello() {
		//     alert('hello!');
		// }


		$('#btnOn').click(function(){
			$('#btnTest').click(function(){
				alert('hello');
			});
			$('#btnTest').text('测试 on')
		})
		$('#btnOff').click(function(){
			$('#btnTest').off('click',function(){
				alert('hello');
			});
			$('#btnTest').text('测试 no off')
		})
	});
</script>
</body>

</html>
